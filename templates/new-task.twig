{% extends "_layout.twig" %}

{% block title %}New Task - Porter Task Management{% endblock %}

{% block pageTitle %}New Task{% endblock %}

{% block headerActions %}
<a href="{{ siteUrl }}" class="back-btn">‚Üê Back to Home</a>
{% endblock %}

{% block content %}
<div class="new-task-form">
    <form id="task-form">
        <div class="form-group">
            <label for="time-received">Time Received:</label>
            <input type="time" id="time-received" required>
        </div>
        
        <div class="form-group">
            <label for="job-category">Job Category:</label>
            <select id="job-category" required>
                <option value="" disabled selected>Select Job Category</option>
                <!-- Will be populated from data -->
            </select>
        </div>
        
        <div class="form-group">
            <label for="from-department">From Department:</label>
            <select id="from-department" required>
                <option value="" disabled selected>Select Department</option>
                <!-- Will be populated from data -->
            </select>
        </div>
        
        <div class="form-group">
            <label for="to-department">To Department:</label>
            <select id="to-department" required>
                <option value="" disabled selected>Select Department</option>
                <!-- Will be populated from data -->
            </select>
        </div>
        
        <div class="form-group">
            <label for="item-type">Item Type:</label>
            <select id="item-type" required>
                <option value="" disabled selected>Select Item Type</option>
                <!-- Will be populated based on job category -->
            </select>
        </div>
        
        <div class="form-group transport-options" style="display: none;">
            <label for="transport-type">Transport Type:</label>
            <select id="transport-type">
                <option value="" disabled selected>Select Transport</option>
                <!-- Will be populated for patient transfers -->
            </select>
        </div>
        
        <div class="form-group">
            <label for="staff-member">Staff Member (Optional):</label>
            <div class="search-container">
                <input type="text" id="staff-member" placeholder="Start typing name...">
                <div id="staff-results" class="search-results"></div>
            </div>
        </div>
        
        <div class="form-group">
            <label for="time-completed">Time Completed (Optional):</label>
            <input type="time" id="time-completed">
        </div>
        
        <div class="form-actions">
            <button type="button" id="pending-btn" class="secondary-btn">Save as Pending</button>
            <button type="button" id="complete-btn" class="primary-btn">Mark as Complete</button>
        </div>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ alias('@web') }}/src/js/new-task.js"></script>
{% endblock %}
